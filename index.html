<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Shelf - „Ç≤„Éº„É†„É©„Ç§„Éñ„É©„É™</title>
    <meta name="description" content="ÂÄã‰∫∫„Ç≤„Éº„É†„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥ - „ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅÆ„Ç≤„Éº„É†„ÇíÁæé„Åó„ÅèÂ±ïÁ§∫">
    
    <!-- Open Graph for social sharing -->
    <meta property="og:title" content="Game Shelf - „Ç≤„Éº„É†„É©„Ç§„Éñ„É©„É™">
    <meta property="og:description" content="„ÅäÊ∞ó„Å´ÂÖ•„Çä„Ç≤„Éº„É†„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥">
    <meta property="og:type" content="website">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéÆ</text></svg>">
    <link rel="stylesheet" href="css/gameshelf.css">

</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="header-title">üéÆ Game Shelf</h1>
            <p class="header-subtitle">„Ç≤„Éº„É†„É©„Ç§„Éñ„É©„É™</p>
            
            <div class="header-controls">
                <div class="collection-controls">
                    <select id="collection-selector" class="collection-selector">
                        <option value="all">üéÆ ÂÖ®„Å¶„ÅÆ„Ç≤„Éº„É†</option>
                    </select>
                    <button id="manage-collections" class="btn btn-outline">üìù „Ç≥„É¨„ÇØ„Ç∑„Éß„É≥ÁÆ°ÁêÜ</button>
                </div>
                
                <div class="view-toggle">
                    <button id="view-covers" class="btn btn-primary active">„Ç´„Éê„ÉºË°®Á§∫</button>
                    <button id="view-list" class="btn btn-secondary">„É™„Çπ„ÉàË°®Á§∫</button>
                </div>
                
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="„Çø„Ç§„Éà„É´„ÇÑÈñãÁô∫ËÄÖ„ÅßÊ§úÁ¥¢...">
                </div>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <aside class="sidebar">
                <div class="filter-section">
                    <h3>„Éï„Ç£„É´„Çø„Éº</h3>
                    
                    <div class="filter-group">
                        <label>„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†</label>
                        <div class="platform-filter-checkboxes">
                            <label class="checkbox-label">
                                <input type="checkbox" id="platform-pc" value="PC" checked>
                                üñ•Ô∏è PC
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="platform-playstation" value="PlayStation" checked>
                                üéÆ PlayStation
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="platform-xbox" value="Xbox" checked>
                                üéÆ Xbox
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="platform-nintendo" value="Nintendo" checked>
                                üéÆ Nintendo
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="platform-steam" value="Steam" checked>
                                üöÇ Steam
                            </label>
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label>ÂÆå‰∫ÜÁä∂Ê≥Å</label>
                        <div class="completion-filter-checkboxes">
                            <label class="checkbox-label">
                                <input type="checkbox" id="completion-not-started" value="not_started" checked>
                                ‚ö™ Êú™„Éó„É¨„Ç§
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="completion-in-progress" value="in_progress" checked>
                                üü° „Éó„É¨„Ç§‰∏≠
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="completion-completed" value="completed" checked>
                                üü¢ ÂÆå‰∫Ü
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="completion-abandoned" value="abandoned" checked>
                                üî¥ ‰∏≠Êñ≠
                            </label>
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label>„Ç∏„É£„É≥„É´</label>
                        <div class="genre-filter-checkboxes" id="genre-filter-checkboxes">
                            <!-- Genre filters will be dynamically populated -->
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label>ÊòüË©ï‰æ°„Éï„Ç£„É´„Çø„Éº</label>
                        <div class="star-filter-checkboxes">
                            <label class="checkbox-label">
                                <input type="checkbox" id="star-1" value="1" checked>
                                ‚≠ê Êòü1
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="star-2" value="2" checked>
                                ‚≠ê‚≠ê Êòü2
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="star-3" value="3" checked>
                                ‚≠ê‚≠ê‚≠ê Êòü3
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="star-4" value="4" checked>
                                ‚≠ê‚≠ê‚≠ê‚≠ê Êòü4
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="star-5" value="5" checked>
                                ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Êòü5
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="star-0" value="0" checked>
                                ‚òÜ Êú™Ë©ï‰æ°
                            </label>
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label>‰∏¶„Å≥È†Ü</label>
                        <select id="sort-order">
                            <option value="custom" selected>„Ç´„Çπ„Çø„É†È†Ü</option>
                            <option value="acquiredTime">ËøΩÂä†Êó•</option>
                            <option value="title">„Çø„Ç§„Éà„É´</option>
                            <option value="developer">ÈñãÁô∫ËÄÖ</option>
                            <option value="publisher">Áô∫Â£≤ÂÖÉ</option>
                            <option value="releaseDate">Áô∫Â£≤Êó•</option>
                            <option value="rating">Ë©ï‰æ°</option>
                            <option value="completionStatus">ÂÆå‰∫ÜÁä∂Ê≥Å</option>
                        </select>
                        <button id="sort-direction" class="btn btn-small">‚Üì Êñ∞„Åó„ÅÑÈ†Ü</button>
                    </div>
                    
                    <div class="filter-group">
                        <label>Ë°®Á§∫Êï∞</label>
                        <select id="games-per-page">
                            <option value="25">25„Ç≤„Éº„É†</option>
                            <option value="50" selected>50„Ç≤„Éº„É†</option>
                            <option value="100">100„Ç≤„Éº„É†</option>
                            <option value="200">200„Ç≤„Éº„É†</option>
                            <option value="all">ÂÖ®„Å¶Ë°®Á§∫</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>„Ç´„Éê„Éº„Çµ„Ç§„Ç∫</label>
                        <select id="cover-size">
                            <option value="small">Â∞è (120√ó180px)</option>
                            <option value="medium" selected>‰∏≠ (160√ó240px)</option>
                            <option value="large">Â§ß (200√ó300px)</option>
                        </select>
                    </div>
                </div>
                
                <div class="stats-section">
                    <h3>Áµ±Ë®àÊÉÖÂ†±</h3>
                    <div class="stats">
                        <div class="stat-item">
                            <span class="stat-value" id="total-games">-</span>
                            <span class="stat-label">Á∑è„Ç≤„Éº„É†Êï∞</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="total-platforms">-</span>
                            <span class="stat-label">„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†Êï∞</span>
                        </div>
                    </div>
                    
                    <div class="library-management">
                        <h3>„Ç≤„Éº„É†ÁÆ°ÁêÜ</h3>
                        <div class="management-buttons">
                            <button id="import-steam" class="btn btn-secondary">üì• Steam„Ç§„É≥„Éù„Éº„Éà</button>
                            <button id="add-game-manually" class="btn btn-secondary">üîç „Ç≤„Éº„É†Ê§úÁ¥¢„ÉªËøΩÂä†</button>
                            <button id="wikipedia-test" class="btn btn-secondary">üîç Wikipedia „ÉÜ„Çπ„Éà</button>
                            <button id="export-unified" class="btn btn-secondary">üíæ „Éá„Éº„Çø„Ç®„ÇØ„Çπ„Éù„Éº„Éà</button>
                            <button id="clear-library" class="btn btn-danger">üóëÔ∏è „É©„Ç§„Éñ„É©„É™„Çí„ÇØ„É™„Ç¢</button>
                        </div>
                    </div>
                </div>
            </aside>

            <section class="bookshelf-container">
                <div class="loading" id="loading">
                    üéÆ „Ç≤„Éº„É†„É©„Ç§„Éñ„É©„É™„ÇíÊ∫ñÂÇô‰∏≠...
                </div>
                
                <!-- Game Shelf Overview Section -->
                <div class="bookshelves-overview" id="bookshelves-overview" style="display: none;">
                    <h2 class="section-title">üéÆ „Ç≤„Éº„É†Ê£ö‰∏ÄË¶ß</h2>
                    <div class="bookshelf-overview-controls">
                        <button id="toggle-bookshelf-display" class="btn btn-secondary">üñºÔ∏è ÁîªÂÉèË°®Á§∫ÂàáÊõø</button>
                    </div>
                    <div class="bookshelves-grid" id="bookshelves-grid">
                        <!-- Game shelves overview will be loaded here -->
                    </div>
                </div>
                
                <div class="bookshelf" id="bookshelf">
                    <!-- Games will be dynamically loaded here -->
                </div>
                
                <div class="pagination" id="pagination">
                    <!-- Pagination controls will be added here -->
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>¬© 2025 „Éû„Ç§„Éú„Éº | Powered by Steam & Wikipedia</p>
            <p class="affiliate-disclosure">
                ‚ö†Ô∏è <strong>„Éá„Éº„Çø„ÇΩ„Éº„Çπ:</strong> „Åì„ÅÆ„Çµ„Ç§„Éà„ÅØSteam API„ÄÅWikipedia„ÄÅWikidata„Åã„Çâ
                „Ç≤„Éº„É†ÊÉÖÂ†±„ÇíÂèñÂæó„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
            </p>
            <p>
                <a href="https://github.com/mybo/game-shelf-template" target="_blank" rel="noopener">
                    GitHub Repository
                </a>
            </p>
        </div>
    </footer>

    <!-- Game detail modal -->
    <div class="modal" id="game-modal">
        <div class="modal-content">
            <button class="modal-close" id="modal-close">√ó</button>
            <div class="modal-body" id="modal-body">
                <!-- Game details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Collection Management Modal -->
    <div id="collection-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="collection-modal-close">√ó</button>
            <div class="modal-header">
                <h2>üìö „Ç≥„É¨„ÇØ„Ç∑„Éß„É≥ÁÆ°ÁêÜ</h2>
                <button id="add-collection" class="btn btn-primary">+ Êñ∞„Åó„ÅÑ„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥</button>
            </div>
            <div id="collections-list">
                <!-- Collections will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Collection Form Modal -->
    <div id="collection-form-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="collection-form-modal-close">√ó</button>
            <div class="modal-header">
                <h2 id="collection-form-title">üìö Êñ∞„Åó„ÅÑ„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥</h2>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="collection-name">„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥Âêç *</label>
                    <input type="text" id="collection-name" placeholder="„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥Âêç„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ" required>
                </div>
                <div class="form-group">
                    <label for="collection-emoji">ÁµµÊñáÂ≠ó</label>
                    <input type="text" id="collection-emoji" placeholder="üìÅ" value="üìÅ" maxlength="2">
                </div>
                <div class="form-group">
                    <label for="collection-description">Ë™¨Êòé</label>
                    <textarea id="collection-description" placeholder="„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥„ÅÆË™¨Êòé„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºà‰ªªÊÑèÔºâ" rows="3"></textarea>
                </div>
                <div class="form-actions" style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: flex-end;">
                    <button id="cancel-collection-form" class="btn btn-secondary">„Ç≠„É£„É≥„Çª„É´</button>
                    <button id="save-collection-form" class="btn btn-primary">‰øùÂ≠ò</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Collection Overview Modal -->
    <div id="collection-overview-modal" class="modal">
        <div class="modal-content large">
            <button class="modal-close" id="collection-overview-modal-close">√ó</button>
            <div class="modal-header">
                <h2 id="collection-overview-title">üìö „Ç≥„É¨„ÇØ„Ç∑„Éß„É≥Ë©≥Á¥∞</h2>
                <div class="collection-actions">
                    <button id="edit-collection" class="btn btn-secondary">‚úèÔ∏è Á∑®ÈõÜ</button>
                    <button id="delete-collection" class="btn btn-danger">üóëÔ∏è ÂâäÈô§</button>
                </div>
            </div>
            <div class="modal-body">
                <div id="collection-overview-content">
                    <!-- Collection overview content will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Game Management Modals -->
    <!-- Steam Import Modal -->
    <div id="import-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="import-modal-close">√ó</button>
            <div class="modal-header">
                <h2>üì• Steam„Éá„Éº„Çø„Ç§„É≥„Éù„Éº„Éà</h2>
            </div>
            <div class="modal-body">
                <div class="import-options">
                    <div class="import-option">
                        <h3>„Éï„Ç°„Ç§„É´„Åã„Çâ„Ç§„É≥„Éù„Éº„Éà</h3>
                        <input type="file" id="steam-file-input" accept=".json" />
                        <button id="import-from-file" class="btn btn-primary">„Éï„Ç°„Ç§„É´„Çí„Ç§„É≥„Éù„Éº„Éà</button>
                    </div>
                </div>
                <div id="game-selection" class="game-selection" style="display: none;">
                    <h3>üéÆ „Ç§„É≥„Éù„Éº„Éà„Åô„Çã„Ç≤„Éº„É†„ÇíÈÅ∏Êäû</h3>
                    <div class="selection-controls">
                        <button id="select-all-games" class="btn btn-small">ÂÖ®„Å¶ÈÅ∏Êäû</button>
                        <button id="deselect-all-games" class="btn btn-small">ÂÖ®„Å¶Ëß£Èô§</button>
                        <span class="selected-count">ÈÅ∏Êäû: <span id="selected-count">0</span>Êú¨</span>
                    </div>
                    <div id="game-list" class="game-selection-list">
                        <!-- Game selection checkboxes will be populated here -->
                    </div>
                    <div class="import-actions">
                        <button id="import-selected-games" class="btn btn-primary" disabled>ÈÅ∏Êäû„Åó„Åü„Ç≤„Éº„É†„Çí„Ç§„É≥„Éù„Éº„Éà</button>
                        <button id="cancel-import" class="btn btn-secondary">„Ç≠„É£„É≥„Çª„É´</button>
                    </div>
                </div>
                <div id="import-results" class="import-results" style="display: none;">
                    <!-- Import results will be shown here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Manual Game Addition Modal -->
    <div id="add-game-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="add-game-modal-close">√ó</button>
            <div class="modal-header">
                <h2>‚ûï ÊâãÂãï„Åß„Ç≤„Éº„É†„ÇíËøΩÂä†</h2>
            </div>
            <div class="modal-body">
                <div class="add-game-options">
                    <div class="add-option">
                        <h3>„Ç≤„Éº„É†„ÅÆÊÉÖÂ†±„ÇíÂÖ•Âäõ</h3>
                        <div class="form-group">
                            <label for="manual-steam-id">Steam ID</label>
                            <input type="text" id="manual-steam-id" placeholder="123456" />
                        </div>
                        <div class="form-group">
                            <label for="manual-title">„Çø„Ç§„Éà„É´</label>
                            <input type="text" id="manual-title" placeholder="„Ç≤„Éº„É†„Çø„Ç§„Éà„É´" />
                        </div>
                        <div class="form-group">
                            <label for="manual-developer">ÈñãÁô∫ËÄÖ</label>
                            <input type="text" id="manual-developer" placeholder="ÈñãÁô∫ËÄÖÂêç" />
                        </div>
                        <div class="form-group">
                            <label for="manual-platform">„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†</label>
                            <input type="text" id="manual-platform" placeholder="PC, PlayStation, Nintendo Switch" />
                        </div>
                        <button id="add-manually" class="btn btn-primary">ÊâãÂãïËøΩÂä†</button>
                    </div>
                </div>
                <div id="add-game-results" class="add-results" style="display: none;">
                    <!-- Addition results will be shown here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Wikipedia Test Modal -->
    <div id="wikipedia-test-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="wikipedia-test-modal-close">√ó</button>
            <div class="modal-header">
                <h2>üîç Wikipedia „Ç≤„Éº„É†ÊÉÖÂ†±„ÉÜ„Çπ„Éà</h2>
            </div>
            <div class="modal-body">
                <div class="wikipedia-test-content">
                    <p>„Ç≤„Éº„É†„Çø„Ç§„Éà„É´„ÇíÂÖ•Âäõ„Åó„Å¶Wikipedia„Åã„ÇâÊÉÖÂ†±„ÇíÂèñÂæó„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ</p>
                    <div class="form-group">
                        <label for="wikipedia-game-title">„Ç≤„Éº„É†„Çø„Ç§„Éà„É´</label>
                        <input type="text" id="wikipedia-game-title" placeholder="‰æã: The Legend of Zelda Breath of the Wild" />
                    </div>
                    <button id="test-wikipedia" class="btn btn-primary">WikipediaÊ§úÁ¥¢</button>
                    <div id="wikipedia-results" style="margin-top: 20px; display: none;">
                        <!-- Wikipedia test results will be shown here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Save indicator -->
    <div class="save-indicator" id="save-indicator">üíæ ‰øùÂ≠ò„Åó„Åæ„Åó„Åü</div>

    <script src="js/wikipedia-service.js"></script>
    <script src="js/wikidata-service.js"></script>
    <script src="js/game-manager.js"></script>
    <script src="js/collection-manager.js"></script>
    <script src="js/collection-ui.js"></script>
    <script src="js/search-manager.js"></script>
    <script src="js/search-ui.js"></script>
    <script src="js/sample-games.js"></script>
    <script src="js/gameshelf.js"></script>
    <script>
        // Wikipedia test functionality
        document.addEventListener('DOMContentLoaded', function() {
            const wikipediaTestBtn = document.getElementById('wikipedia-test');
            const wikipediaTestModal = document.getElementById('wikipedia-test-modal');
            const wikipediaTestModalClose = document.getElementById('wikipedia-test-modal-close');
            const testWikipediaBtn = document.getElementById('test-wikipedia');
            
            if (wikipediaTestBtn) {
                wikipediaTestBtn.addEventListener('click', function() {
                    wikipediaTestModal.style.display = 'block';
                });
            }
            
            if (wikipediaTestModalClose) {
                wikipediaTestModalClose.addEventListener('click', function() {
                    wikipediaTestModal.style.display = 'none';
                });
            }
            
            if (testWikipediaBtn) {
                testWikipediaBtn.addEventListener('click', async function() {
                    const gameTitle = document.getElementById('wikipedia-game-title').value.trim();
                    const resultsDiv = document.getElementById('wikipedia-results');
                    
                    if (!gameTitle) {
                        alert('„Ç≤„Éº„É†„Çø„Ç§„Éà„É´„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
                        return;
                    }
                    
                    resultsDiv.style.display = 'block';
                    resultsDiv.innerHTML = '<p>üîç Wikipedia„Åã„ÇâÊÉÖÂ†±„ÇíÂèñÂæó‰∏≠...</p>';
                    testWikipediaBtn.disabled = true;
                    
                    try {
                        const wikipediaService = new WikipediaService();
                        const gameData = await wikipediaService.extractGameMetadata(gameTitle);
                        
                        if (gameData) {
                            resultsDiv.innerHTML = `
                                <h3>‚úÖ ÂèñÂæóÊàêÂäü: ${gameData.title}</h3>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;">
                                    <div><strong>ÈñãÁô∫ËÄÖ:</strong> ${gameData.developer || 'ÊÉÖÂ†±„Å™„Åó'}</div>
                                    <div><strong>Áô∫Â£≤ÂÖÉ:</strong> ${gameData.publisher || 'ÊÉÖÂ†±„Å™„Åó'}</div>
                                    <div><strong>Áô∫Â£≤Êó•:</strong> ${gameData.releaseDate || 'ÊÉÖÂ†±„Å™„Åó'}</div>
                                    <div><strong>„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†:</strong> ${Array.isArray(gameData.platforms) ? gameData.platforms.join(', ') : 'ÊÉÖÂ†±„Å™„Åó'}</div>
                                </div>
                                <div style="margin-top: 15px;">
                                    <strong>Ë™¨Êòé:</strong><br>
                                    ${gameData.description ? gameData.description.substring(0, 200) + '...' : 'ÊÉÖÂ†±„Å™„Åó'}
                                </div>
                                <div style="margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 5px; font-size: 12px;">
                                    <strong>„Éá„Éº„Çø„ÇΩ„Éº„Çπ:</strong> <a href="${gameData.attribution.url}" target="_blank">${gameData.attribution.text}</a><br>
                                    <strong>„É©„Ç§„Çª„É≥„Çπ:</strong> <a href="${gameData.attribution.licenseUrl}" target="_blank">${gameData.attribution.license}</a>
                                </div>
                            `;
                        } else {
                            resultsDiv.innerHTML = '<p>‚ùå Ë©≤ÂΩì„Åô„Çã„Ç≤„Éº„É†ÊÉÖÂ†±„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü</p>';
                        }
                    } catch (error) {
                        resultsDiv.innerHTML = `<p>‚ùå „Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ${error.message}</p>`;
                        console.error('Wikipedia test error:', error);
                    } finally {
                        testWikipediaBtn.disabled = false;
                    }
                });
            }
            
            // Enter key support for Wikipedia test
            const wikipediaGameTitleInput = document.getElementById('wikipedia-game-title');
            if (wikipediaGameTitleInput) {
                wikipediaGameTitleInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        testWikipediaBtn.click();
                    }
                });
            }
        });
    </script>
</body>
</html>